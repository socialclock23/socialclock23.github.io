<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/echarts.js"></script>
</head>
<body>
<div id="main" style="width: 970px;height: 520px"></div>>
<script type="text/javascript">
  var myChart = echarts.init(document.getElementById('main'));

  var dataset = {
      dimensions: ["年份", '未上过学', '小学', '初中', '高中','大学专科','大学本科','研究生'],
      source: [
          [2000, 8.1, 32.8, 41.7, 12.7, 3.3, 1.3, 0.1],
          [2001, 7.7, 30.9, 42.3, 13.5, 4.1, 1.4, 0.1],
          [2002, 7.7, 30, 43.2, 13.1, 4.3, 1.6, 0.1],
          [2003, 7.2, 28.7, 43.7, 13.6, 4.8, 1.9, 0.1],
          [2004, 6.17, 27.4, 45.8, 13.4, 5, 2.1, 0.13],
          [2005, 7.8, 29.2, 44.1, 12.1, 4.5, 2.1, 0.2],
          [2006, 6.7, 29.9, 44.9, 11.9, 4.3, 2.1, 0.2],
          [2007, 6, 28.3, 46.9, 12.2, 4.3, 2.1, 0.2],
          [2008, 5.3, 27.4, 47.7, 12.7, 4.4, 2.3, 0.2],
          [2009, 4.8, 26.3, 48.7, 12.8, 4.7, 2.5, 0.2],
          [2010, 3.3, 23.9, 48.8, 13.9, 6, 3.7, 0.4],
          [2011, 2.1, 19.6, 48.7, 16.7, 7.6, 4.9, 0.4],
          [2012, 1.9, 19, 48.3, 17.1, 8, 5.2, 0.5],
          [2013, 2, 18.5, 47.9, 17.1, 8.5, 5.5, 0.5],
          [2014, 2, 18.1, 46.7, 17.2, 9.3, 6.2, 0.5],
          [2015, 2.8, 17.8, 43.3, 18.7, 9.2, 7.5, 0.7],
          [2016, 2.6, 17.5, 43.3, 18.5, 9.6, 7.7, 0.8],
          [2017, 2.3, 16.9, 43.4, 19.2, 9.4, 8, 0.8],
          [2018, 2.3, 16.4, 43.1, 19.1, 9.7, 8.5, 0.9],
          [2019, 2.2, 15.7, 40.6, 18.7, 12, 9.7, 1.1],
          [2020, 2.3, 16.3, 41.7, 17.5, 11.3, 9.8, 1.1]
      ]
  }

  function series(){
      const s = []
      for (var i = 0; i<dataset.dimensions.length-1; i++) {
          s.push({
              type: 'bar',
              stack: '总量',
              barMaxWidth: 20,
              label: {
                  show: true,
                  position: 'inside'
              }
          })
      }
      return s
  }

  option = {

      title: {
          textStyle: {
              rich: {
                  a: {
                      fontSize: 16,
                      fontWeight: 1200,
                  },
              },
          },
          top: '2%',
          left: '2%',
      },
      title: {
          text: '图5 2000-2020年全国就业人员学历结构'
      },
      legend: {
          data: ['年份', '未上过学', '小学', '初中', '高中', '大学专科', '大学本科', '研究生'],
          textStyle: {
              align: 'right',
          },
          right: '2%',
          top: '2%',
          icon: 'diamond',
      },
      tooltip: {
          trigger: 'axis',
          axisPointer: {            // 坐标轴指示器，坐标轴触发有效
              type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
          }
      },
      grid: {
          left: '3%',
          right: '4%',
          bottom: '3%',
          containLabel: true
      },
      xAxis: {
          type: 'category'
      },
      yAxis: {
          type: 'value',
          axisLabel: {
              show: true,
              formatter: "{value} %", //右侧Y轴文字显示
              textStyle: {
                  color: "#666666",
                  fontSize:14,
              }
          }
      },
      dataset: dataset,
      series: series()
  };
  myChart.setOption(option);
  </script>
</body>
</html>