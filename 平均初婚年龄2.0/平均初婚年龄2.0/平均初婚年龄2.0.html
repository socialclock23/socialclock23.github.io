<html lang="en"><head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="width: 100%; height: 500px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); position: relative;" id="main" _echarts_instance_="ec_1670845460647"><div style="position: relative; width: 1264px; height: 500px; padding: 0px; margin: 0px; border-width: 0px; cursor: default;"><canvas data-zr-dom-id="zr_0" width="1896" height="750" style="position: absolute; left: 0px; top: 0px; width: 1264px; height: 500px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding: 0px; margin: 0px; border-width: 0px;"></canvas></div><div class="" style="position: absolute; display: block; border-style: solid; white-space: nowrap; z-index: 9999999; box-shadow: rgba(0, 0, 0, 0.2) 1px 2px 10px; transition: opacity 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, transform 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s; background-color: rgb(255, 255, 255); border-width: 1px; border-radius: 4px; color: rgb(102, 102, 102); font: 14px / 21px &quot;Microsoft YaHei&quot;; padding: 10px; top: 0px; left: 0px; transform: translate3d(1115px, 123px, 0px); border-color: rgb(255, 255, 255); pointer-events: none; visibility: hidden; opacity: 0;"><div style="margin: 0px 0 0;line-height:1;"><div style="margin: 0px 0 0;line-height:1;"><div style="font-size:14px;color:#666;font-weight:400;line-height:1;">2019</div><div style="margin: 10px 0 0;line-height:1;"><div style="margin: 0px 0 0;line-height:1;"><div style="margin: 0px 0 0;line-height:1;"><span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:RGB(216,177,212);"></span><span style="font-size:14px;color:#666;font-weight:400;margin-left:2px">男</span><span style="float:right;margin-left:20px;font-size:14px;color:#666;font-weight:900">28.48</span><div style="clear:both"></div></div><div style="clear:both"></div></div><div style="margin: 10px 0 0;line-height:1;"><div style="margin: 0px 0 0;line-height:1;"><span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:RGB(151,62,149);"></span><span style="font-size:14px;color:#666;font-weight:400;margin-left:2px">女</span><span style="float:right;margin-left:20px;font-size:14px;color:#666;font-weight:900">26.88</span><div style="clear:both"></div></div><div style="clear:both"></div></div><div style="clear:both"></div></div><div style="clear:both"></div></div><div style="clear:both"></div></div></div></div>
<script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
<script>

    var app = {};

    var chartDom = document.getElementById('main');
    var myChart = echarts.init(chartDom);
    var option;

    const posList = [
        'left',
        'right',
        'top',
        'bottom',
        'inside',
        'insideTop',
        'insideLeft',
        'insideRight',
        'insideBottom',
        'insideTopLeft',
        'insideTopRight',
        'insideBottomLeft',
        'insideBottomRight'
    ];
    app.configParameters = {
        rotate: {
            min: -90,
            max: 90
        },
        align: {
            options: {
                left: 'left',
                center: 'center',
                right: 'right'
            }
        },
        verticalAlign: {
            options: {
                top: 'top',
                middle: 'middle',
                bottom: 'bottom'
            }
        },
        position: {
            options: posList.reduce(function (map, pos) {
                map[pos] = pos;
                return map;
            }, {})
        },
        distance: {
            min: 0,
            max: 100
        }
    };
    app.config = {
        rotate: 90,
        align: 'left',
        verticalAlign: 'middle',
        position: 'insideBottom',
        distance: 15,
        onChange: function () {
            const labelOption = {
                rotate: app.config.rotate,
                align: app.config.align,
                verticalAlign: app.config.verticalAlign,
                position: app.config.position,
                distance: app.config.distance
            };
            myChart.setOption({
                series: [
                    {
                        label: labelOption
                    },
                    {
                        label: labelOption
                    },
                    {
                        label: labelOption
                    },
                    {
                        label: labelOption
                    }
                ]
            });
        }
    };
    const labelOption = {
        show: true,
        position: app.config.position,
        distance: app.config.distance,
        align: app.config.align,
        verticalAlign: app.config.verticalAlign,
        rotate: app.config.rotate,
        formatter: '{c}  {name|{a}}',
        fontSize: 16,
        rich: {
            name: {}
        }
    };
    option = {
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow'
            }
        },
        legend: {
            data: ['男', '女', '小计']
        },
        xAxis: [
            {
                type: 'category',
                axisTick: {show: false},
                data: [1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020]
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: '男',
                type: 'bar',
                barGap: 0,
                color: '#CEDFEF',
                emphasis: {
                    focus: 'series'
                },
                data: [24.5, 24.5, 24.25, 24.01, 23.78, 23.67, 23.61, 23.63, 23.65, 23.64, 23.59, 23.71, 23.94, 24.14, 24.34, 24.61, 24.88, 25.13, 25.34, 25.26, 25.11, 25.18, 25.23, 25.4, 25.44, 25.48, 25.65, 25.64, 25.7, 25.79, 25.75, 25.93, 26.14, 26.52, 26.86, 27.21, 27.5, 27.8, 28.12, 28.48, 29.38]
            },
            {
                name: '女',
                type: 'bar',
                emphasis: {
                    focus: 'series'
                },
                color: '#FAC7B3',
                data: [22.74, 22.66, 22.31, 22.1, 21.99, 22.05, 22.1, 22.2, 22.22, 22.21, 22.15, 22.27, 22.51, 22.71, 22.9, 23.19, 23.42, 23.59, 23.71, 23.52, 23.28, 23.29, 23.29, 23.44, 23.28, 23.52, 23.68, 23.67, 23.82, 23.97, 24.0, 24.24, 24.52, 24.91, 25.25, 25.63, 25.91, 26.19, 26.5, 26.88, 27.95]
            },
            // {
            //     name: '小计',
            //     type: 'bar',
            //     color: 'RGB(151,62,149)',
            //     emphasis: {
            //         focus: 'series'
            //     },
            //     data: [23.59, 23.54, 23.24, 23.02, 22.85, 22.83, 22.83, 22.9, 22.92, 22.91, 22.87, 22.98, 23.22, 23.42, 23.62, 23.9, 24.15, 24.36, 24.53, 24.39, 24.21, 24.24, 24.27, 24.43, 24.47, 24.52, 24.67, 24.67, 24.77, 24.89, 24.89, 25.09, 25.34, 25.72, 26.06, 26.43, 26.71, 27.0, 27.3, 27.68, 28.67]
            // }
        ]
    };

    option && myChart.setOption(option);

</script>

</body></html>